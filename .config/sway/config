#########################################
### ### Teilen's Sway Config file ### ###
#########################################
set $mod Mod4
set $term kitty
set $browser firefox
set $AppMenu rofi -show drun
set $fileExplorer nemo
set $music ~/.config/sway/scripts/rofi_music
set $colorpicker ~/.config/sway/scripts/colorpicker

include /etc/sway/config-vars.d/*
include catppuccin-mocha
seat seat0 xcursor_theme catppuccin-mocha-dark-cursors 24

###################
### SETUP COLOR ###
###################
# noir
set $black1 #2E3440
set $black2 #D3D3D3
# rouge
set $red1 #BF616A
set $red2 #D08770
# Vert
set $green1 #A3BE8C
set $green2 #A3BE8C
# jaune
set $yellow1 #EBCB8B
set $yellow2 #FFFFb3
# bleu
set $blue1 #5E81AC
set $blue2 #444D60
# magenta
set $magenta1 #694651
set $magenta2 #694652
# Cyan
set $cyan1 #8FBCBB
set $cyan2 #B3FFFF
# blanc
set $white #ECEAE7
set $white2 #E5E5E5

#############
### INPUT ###
#############
input * {
   xkb_layout be
   xkb_variant nodeadkeys
   xkb_numlock enabled
}

#####################
### SCREEN CONFIG ###
#####################
# output eDP-1 resolution 1920x1080 refresh 60
# output eDP-1 {
#    resolution 1920x1080
#    pos 0 0
#}
# output HDMI-A-1 {
#    pos 1920 0
# }

###########
### BAR ###
###########
exec waybar

# bar {
#   position top
#   font pango:Nerd Font, Terminus,
#   status_command i3status
#   separator_symbol ° 
#   strip_workspace_numbers yes
#   workspace_buttons yes

#   colors {
#   	background #00000000
#	statusline #FFFFFF
#	focused_workspace $yellow1 $yellow2 $black1
#	active_workspace $magenta1 $magenta2 $black1
#	inactive_workspace $white $white2 $black1
#   }   
#}

##################
### Decoration ###
##################
# border
default_border pixel 2
client.focused $cyan1 $blue2 $white2 $blue1
client.focused_inactive $cyan1 $cyan1 $black2 $cyan2
client.unfocused $white2 $black1 $black2 $white2

# gaps
gaps inner 4
gaps outer 2

##################
### Workspaces ###
##################

workspace 1 output DP-1
# workspace 2 output HDMI-A-1

#################
### Wallpaper ###
#################
exec swaybg -i ~/Downloads/joat5o3lwjea1.png -m fill

############
### exec ###
############
exec wl-paste --type text --watch cliphist store
exec wl-paste --type images --watch cliphist store
exec dbus-update-activation-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=sway &
exec /usr/libexec/xdg-desktop-portal-wlr &
exec /usr/libexec/xdg-desktop-portal-gnome &
exec /usr/libexec/xdg-desktop-portal-gtk &


# exec pipewire & pipewire-pulse
exec pipewire &
exec pipewire-pulse &
exec wireplumber &
exec --no-startup-id Xwayland :0

#####################
### RULES WINDOWS ###
#####################
# set floating for window roles
for_window [window_role="About"] floating enable
for_window [window_role="Organizer"] floating enable
for_window [window_role="Preferences"] floating enable
for_window [window_role="bubble"] floating enable
for_window [window_role="page-info"] floating enable
for_window [window_role="pop-up"] floating enable
for_window [window_role="task_dialog"] floating enable
for_window [window_role="toolbox"] floating enable
for_window [window_role="webconsole"] floating enable
for_window [window_type="dialog"] floating enable
for_window [window_type="menu"] floating enable
for_window [window_role="pop-up"] floating enable
for_window [window_role="bubble"] floating enable
for_window [app_id="pavucontrol"] floating enable
for_window [app_id="yad"] floating enable
for_window [app_id="polkit-ukui-authentication-agent-1"] floating enable
for_window [app_id="nm-connection-editor"] floating enable
for_window [app_id="xdg-desktop-portal-gtk"] floating enable
for_window [title="File Operation Progress"] floating enable, border pixel 1, sticky enable, resize set width 40 ppt height 30 ppt
for_window [title="(?:Open|Save) (?:File|Folder|As)"] floating enable;
for_window [title="(?:Open|Save) (?:File|Folder|As)"] resize set 800 600
for_window [title="File Operation Progress"] floating enabled
for_window [title="Confirm to replace files"] floating enable
for_window [title="Choose Files"] floating enable
for_window [title="Picture in picture"] floating enable, sticky enable

##################
### Raccourcis ###
##################

# lancé les app
bindsym $mod+t exec $term
bindsym $mod+b exec $browser
bindsym $mod+d exec $AppMenu
bindsym $mod+e exec $fileExplorer
bindsym $mod+m exec $music
bindsym $mod+n exec $colorpicker
bindsym $mod+Shift+d exec rofi -show run
bindsym $mod+v exec pavucontrol
bindsym $mod+Shift+q exec wlogout

# action
bindsym $mod+Shift+n exec swaync-client -t -sw
bindsym $mod+q kill
bindsym $mod+Ctrl+q exit
bindsym $mod+Shift+r reload
bindsym $mod+g splith
bindsym $mod+h splitv
bindsym $mod+Up focus up
bindsym $mod+Down focus down
bindsym $mod+Left focus left
bindsym $mod+Right focus right
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Right move right
bindsym $mod+f fullscreen toggle
bindsym $mod+space floating toggle
bindsym $mod+shift+f layout toggle
floating_modifier $mod normal
# bindsym $mod+button1 move
bindsym $mod+Ctrl+Up resize shrink height 15px
bindsym $mod+Ctrl+Down resize grow height 15px
bindsym $mod+Ctrl+Left resize shrink width 15px
bindsym $mod+Ctrl+Right resize grow width 15px
bindsym $mod+Alt+e exec ~/.config/sway/scripts/rofi_powermenu
bindsym $mod+w exec swaybg -i ~/Images/leafy-moon.png -m fill
bindsym $mod+Shift+w exec swaybg -i ~/Images/rosepine-birb.png -m fill
bindsym $mod+c exec ~/.config/sway/scripts/colorpicker

# Special key to take a screenshot and record
bindsym Print exec grim -g "$(slurp -d)" - | wl-copy
bindsym $mod+Print exec ~/.config/sway/scripts/rofi_screenshot
bindsym $mod+Alt+r exec ~/.config/sway/scripts/rofi_screenrecord

# gestion workspace
bindsym $mod+ampersand workspace 1
bindsym $mod+eacute workspace 2
bindsym $mod+quotedbl workspace 3
bindsym $mod+apostrophe workspace 4
bindsym $mod+parenleft workspace 5
bindsym $mod+Shift+ampersand move container to workspace 1
bindsym $mod+Shift+eacute move container to workspace 2
bindsym $mod+Shift+quotedbl move container to workspace 3
bindsym $mod+Shift+apostrophe move container to workspace 4
bindsym $mod+Shift+parenleft move container to workspace 5


exec_always {
    export GTK_THEME=Catppuccin-Mocha
    export GTK_ICON_THEME=Zafiro-Nord-Black-Blue
    export XCURSOR_THEME=Catppuccin-Mocha
    export XCURSOR_SIZE=20
    export XDG_DATA_DIRS=$XDG_DATA_DIRS:$HOME/.local/share
    xfsettingsd &
}

include /etc/sway/config.d/*
